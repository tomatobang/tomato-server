branches:
  only:
  - master
sudo: false
language: node_js
node_js:
- '8'
- '9'
install:
- npm i npminstall && npminstall
script:
- npm run ci
after_script:
- npminstall codecov && codecov
services:
- mongodb
- redis-server
env:
  global:
  - ENCRYPTION_LABEL: f1cc1f575b49
  - secure: tkxnMtO7I+z9bb5DqBdEJe+X/xqOgQg+4UVc30Dv5ll4HjgIfddWK7FW1HedJ24XqCtY7Ye8jNmElU7Q3cDQb+q0wu1QgZ2sDGVeuA6LQZQ5Fjwe1pguWGWvi9mhzrIK2fEVvvFyU+U4nA3x9AdB8JZ8CvrkKOxwgDQKqM0a0EcH+5zIWaugoFBPwwYYUkhJ2Ewym97cqDHbrcSyF2H6HynM43wRV9P8HlRz9QHhZvgfJilc7BA8ncz3LByzRJaU5R2An5K2ZnqSHQJuQUc8c8qsrjIlQqmhBoOhP5mlU4Yrw3aI9+GJ6Z3RSDNf6NvOFWSQ2YR6OYTHvzM/+7CYrZmjc1ZRAN1AWobneEYb1aVWpdGcxb+G2xX8NXl5rhav1Ya0bsfUAHwjO5jFtFkqSWz+kaHwZeEITseGDB0kSa5Bf9gZRHvInvK0WLplXOWh/kjmbEf+8APv8USOpBZGcFj+v43B6y9PDeRf4E487dPV2Spko3UHSkSwQgINkMHULLCEKcB3sJxYqdnV4M+TWVxEezFNnIgZYpqHk2+A4ByYpC/jU+DK7lblzQ3NQecd36ACPm+m1/VOXw6SCOoq4iuaY7E1bylBGiK/WoKyL2LagUNqE7XKdbuAw+ANhLDAgc6Niu/fwQLbHPubYmrUaFTw47EYQzOaI2d7a6JOSnQ=
  - secure: oqn963AtgnKseHkDBBrjMCNDfbdi0LPd5GWYHN38OF0qRA+HlvR2lr+NZVXpCfy24y+bgmgNX5937P0iA+TReQ7Lx6EDxF2t6BsUYUp1ZAThImzCIOUwIdLQb4xW+DpVVur3pTBAsC5g2pgnYMFg70x7LXJdgL1UwUnk5rV43wz0pnLseOj0l6NI6i38Q+t2+xtYPcb5B/EkQhX9Zqj9/JMqsTBG0xe8VbIXSw8PC13tFpryE+1XDu/Yo6VMXcPFKAZz7/DSroUeqfaFzTmDo9TOi5kEiMdCwVEwx4w97wn6JrG62qKJI5Gtvsur9X/pOYxHjhhE0fjuz2GEsqUy5e+WngOMEN8LYqHhW7UlWB7B+B5uGWzXVVxvhDlzl6tGR3UiKxJr+EPKogLlBmak2HZI4XQG8R97kydaMwe06Z/kabJ+kRZIqr3yMq+Y6lR1SAxPwHG0/MJ26NMMN9rNtvwo9FceFQIKSS4wEOUBuKGFQGVWh+fMALfEaBH03eiLtjRNdRhN3xMONf4EC4RG6FCIxZRQOp1jduXmzjaLtfsjxuaddXQUn/LNsf7yioSUGoa8bstZdk1TlD21LwjlINga7ueSNxs+9ixUrKWgvZqud2KX9ZcN77mbN2VAyeqK4yqEiuvZZa9jMzSjykPEAwUa/lXj5m506SDdc7fhBGU=
